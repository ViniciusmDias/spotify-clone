{"ast":null,"code":"import _slicedToArray from\"/home/vinicius/projects/react-17/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{BsPlayFill,BsVolumeUpFill}from'react-icons/bs';import Ink from'react-ink';import{addTrackToPlayer,removeTrackToPlayer}from'../../actions';import'./Track.scss';var Track=function Track(_ref){var track=_ref.track;var playingNowId=useSelector(function(state){return state.content.playingNowId;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPlaying=_useState2[0],setIsPlaying=_useState2[1];var dispatch=useDispatch();var handleClick=function handleClick(){if(isPlaying&&playingNowId===track.id){setIsPlaying(false);dispatch(removeTrackToPlayer());return;}dispatch(addTrackToPlayer(track));setIsPlaying(!isPlaying);};useEffect(function(){if(playingNowId===track.id){return;}setIsPlaying(false);},[playingNowId,track.id]);return/*#__PURE__*/React.createElement(\"div\",{className:\"track \".concat(isPlaying&&'is-playing'),onClick:handleClick},/*#__PURE__*/React.createElement(\"div\",{className:\"track__play\"},/*#__PURE__*/React.createElement(\"div\",{className:\"track__play__wrapper\"},/*#__PURE__*/React.createElement(BsPlayFill,{className:\"track__play__icon\"}),/*#__PURE__*/React.createElement(BsVolumeUpFill,{className:\"track__play__icon\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"track__info\"},/*#__PURE__*/React.createElement(\"span\",{className:\"track__name\"},track.name),/*#__PURE__*/React.createElement(\"span\",{className:\"track__artists\"},track.artists.length&&track.artists.map(function(_ref2){var name=_ref2.name;return name;}).join(', '))),/*#__PURE__*/React.createElement(Ink,null));};export default Track;","map":{"version":3,"sources":["/home/vinicius/projects/react-17/src/containers/Tracks/Track.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","BsPlayFill","BsVolumeUpFill","Ink","addTrackToPlayer","removeTrackToPlayer","Track","track","playingNowId","state","content","isPlaying","setIsPlaying","dispatch","handleClick","id","name","artists","length","map","join"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,CAAqBC,cAArB,KAA2C,gBAA3C,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CAEA,OAASC,gBAAT,CAA2BC,mBAA3B,KAAsD,eAAtD,CAEA,MAAO,cAAP,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAC3B,GAAMC,CAAAA,YAAY,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAN,CAAcF,YAAlB,EAAN,CAAhC,CAD2B,cAEOV,QAAQ,CAAC,KAAD,CAFf,wCAEpBa,SAFoB,eAETC,YAFS,eAG3B,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAEA,GAAMe,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIH,SAAS,EAAIH,YAAY,GAAKD,KAAK,CAACQ,EAAxC,CAA4C,CAC1CH,YAAY,CAAC,KAAD,CAAZ,CACAC,QAAQ,CAACR,mBAAmB,EAApB,CAAR,CAEA,OACD,CAEDQ,QAAQ,CAACT,gBAAgB,CAACG,KAAD,CAAjB,CAAR,CAEAK,YAAY,CAAC,CAACD,SAAF,CAAZ,CACD,CAXD,CAaAd,SAAS,CAAC,UAAM,CACd,GAAIW,YAAY,GAAKD,KAAK,CAACQ,EAA3B,CAA+B,CAC7B,OACD,CAEDH,YAAY,CAAC,KAAD,CAAZ,CACD,CANQ,CAMN,CAACJ,YAAD,CAAeD,KAAK,CAACQ,EAArB,CANM,CAAT,CAQA,mBACE,2BACE,SAAS,iBAAWJ,SAAS,EAAI,YAAxB,CADX,CAEE,OAAO,CAAEG,WAFX,eAGE,2BAAK,SAAS,CAAC,aAAf,eACE,2BAAK,SAAS,CAAC,sBAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAC,mBAAtB,EADF,cAEE,oBAAC,cAAD,EAAgB,SAAS,CAAC,mBAA1B,EAFF,CADF,CAHF,cAUE,2BAAK,SAAS,CAAC,aAAf,eACE,4BAAM,SAAS,CAAC,aAAhB,EAA+BP,KAAK,CAACS,IAArC,CADF,cAGE,4BAAM,SAAS,CAAC,gBAAhB,EACCT,KAAK,CAACU,OAAN,CAAcC,MAAd,EAAwBX,KAAK,CAACU,OAAN,CAAcE,GAAd,CAAkB,mBAAGH,CAAAA,IAAH,OAAGA,IAAH,OAAcA,CAAAA,IAAd,EAAlB,EAAsCI,IAAtC,CAA2C,IAA3C,CADzB,CAHF,CAVF,cAkBE,oBAAC,GAAD,MAlBF,CADF,CAsBD,CAhDD,CAsDA,cAAed,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BsPlayFill, BsVolumeUpFill } from 'react-icons/bs';\nimport Ink from 'react-ink';\n\nimport { addTrackToPlayer, removeTrackToPlayer } from '../../actions';\n\nimport './Track.scss';\n\nconst Track = ({ track }) => {\n  const playingNowId = useSelector(state => state.content.playingNowId);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    if (isPlaying && playingNowId === track.id) {\n      setIsPlaying(false);\n      dispatch(removeTrackToPlayer());\n\n      return;\n    }\n\n    dispatch(addTrackToPlayer(track));\n\n    setIsPlaying(!isPlaying);\n  };\n\n  useEffect(() => {\n    if (playingNowId === track.id) {\n      return;\n    }\n\n    setIsPlaying(false);\n  }, [playingNowId, track.id])\n\n  return (\n    <div\n      className={`track ${isPlaying && 'is-playing'}`}\n      onClick={handleClick}>\n      <div className=\"track__play\">\n        <div className=\"track__play__wrapper\">\n          <BsPlayFill className=\"track__play__icon\" />\n          <BsVolumeUpFill className=\"track__play__icon\" />\n        </div>\n      </div>\n\n      <div className=\"track__info\">\n        <span className=\"track__name\">{track.name}</span>\n\n        <span className=\"track__artists\">\n        {track.artists.length && track.artists.map(({ name }) => name).join(', ')}\n      </span>\n      </div>\n\n      <Ink />\n    </div>\n  );\n};\n\nTrack.propTypes = {\n  track: PropTypes.object.isRequired,\n}\n\nexport default Track;"]},"metadata":{},"sourceType":"module"}